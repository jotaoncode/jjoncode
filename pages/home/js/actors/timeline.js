var timeLine = {
  "timeline":  {
    "headline":"Timeline",
    "type":"default",
    "text":"<p>Finished secondary school PIO IX and decided to studied at University.</p>",
    "asset": {
      "media":"./assets/foto.jpg",
      "credit":"JJG",
      "caption":"Juan José García"
    },
    "date": [{
      "startDate":"2004,04,02",
      "endDate":"2004,04,02",
      "headline":"UTN student",
      "text":"<p>Started Information System Engineer at the UTN.</p>",
      "asset": {
        "thumbnail":"./assets/foto.jpg",
        "credit":"JJG",
        "caption":"Experience Line"
      }
    }, {
      "startDate":"2005,09,15",
      "endDate":"2006,05,24",
      "headline":"Library at the University (UTN).",
      "text":"<p>Saw the chance to work in an enviroment that helps to keep on studing and learning.</p>"
    }, {
      "startDate":"2008,08,01",
      "endDate":"2009,04,01",
      "headline":"ELT. Entry Level Trainee at Cognizant.",
      "text":"<p>I had 6 month learning Java with 2 hindi teachers and 1 argentinian teacher. Learnt Java, Oracle 9i, Javascript, XML and Html.</p>"
    }, {
      "startDate":"2009,04,01",
      "endDate":"2010,06,01",
      "headline":"ACE Developer and Support",
      "text":"<p>Minor fixes and features for ACE Insurance System. Technologies: .Net 2.0 SQL Server 2008 Javascript (Mootools).</p>"
    }, {
      "startDate":"2010,06,01",
      "endDate":"2011,06,01",
      "headline":"ACE Product Builder",
      "text":"<p>Developed insurance application with .Net 3.5 SQL Server 2008 and Javascript (jquery). Linq to Entities for back end. Rest API for javascript calls. This project is to build custom products for brokers of ACE.</p>"
    }, {
      "startDate":"2011,06,01",
      "endDate":"2011,10,01",
      "headline":"La Nación News Paper: Notables.",
      "text":"<p>.Net Support for Notables. .Net 2.0 SQL Server 2008. SQL Stored Procedures and Views. This is project to include news to magazines and the news paper.</p>"
    }, {
      "startDate":"2011,10,01",
      "endDate":"2011,11,01",
      "headline":"La Nación News Paper: Club",
      "text":"<p>Role: Support. Technologies: .Net 3.5 SQL Server 2008. This is a project for a benefit card of the news paper.</p>"
    }, {
      "startDate":"2011,11,01",
      "endDate":"2012,01,01",
      "headline":"La Nación News Paper: Comisiones",
      "text":"<p>Role: Support and Implementation. Technologies: .Net 3.5 SQL Server 2008. Reports with reporting Services.</p>"
    }, {
      "startDate":"2012,01,01",
      "endDate":"2012,02,01",
      "headline":"La Nación News Paper: GeCom",
      "text":"<p>Role: Support and Implementation. Technologies: .Net 3.5 SQL Server 2008. This is an application to set deals with other companies and the news paper.</p>"
    }, {
      "startDate":"2012,02,01",
      "endDate":"2013,01,01",
      "headline":"Inworx: Inbroker",
      "text":"<p>Support, System Analyst and Developer for Insurance Services.Technologies: .Net 3.5 and 4 SQL Server 2012 Js Reporting Services. Reflection, IoC, AOP. REST Front End. Back End SOA. Database with NHibernate.</p>"
    }, {
      "startDate":"2013,01,01",
      "endDate":"2014,02,01",
      "headline":"Inworx: Smartix",
      "text":"<p>Support, System Analyst and Developer for Insurance Services. Technologies: .Net 3.5 and 4 SQL Server 2012 Js. Similar to Inbroker</p>"
    }, {
      "startDate":"2014,02,01",
      "endDate":"2014,07,01",
      "headline":"Etermax: Questions Factory",
      "text":"<p>Support, System Analyst and Developer. Technologies: Backbone Marionette 1.6.4 Grunt. This is project to create questions, change status and translate.</p>"
    }, {
      "startDate":"2014,07,01",
      "endDate":"2014,08,01",
      "headline":"Etermax: Help center",
      "text":"<p>Support, System Analyst and Developer. Technologies: Backbone Marionette 1.6.4 Grunt. This is project to set coins, lives, gems to games.</p>"
    }, {
      "startDate":"2014,08,01",
      "endDate":"2014,09,01",
      "headline":"Etermax: Susana Gimenez Trivia",
      "text":"<p>Developer. Technologies: Backbone Marionette 1.6.4 Grunt NodeJs SocketIO Q Less. This is a project for TV Show Susana Gimenez, it is a Trivia by phases build for different players.</p>"
    }, {
      "startDate":"2014,09,01",
      "endDate":"2014,10,01",
      "headline":"Etermax: Access",
      "text":"<p>Support, System Analyst and Developer. Technologies: PHP, Zend Framework and Doctrine. This is a project for RRHH of Etermax in order to grant access to the company to employees.</p>"
    }, {
      "startDate":"2014,11,01",
      "endDate":"2014,12,01",
      "headline":"Etermax: Bingo Crack",
      "text":"<p>Support, System Analyst and Developer. Technologies: Backbone Marionette 1.6.4 Grunt. This is a Facebook Game for bingo.</p>"
    }, {
      "startDate":"2014,12,01",
      "endDate":"2015,02,01",
      "headline":"Etermax: Trivia Crack",
      "text":"<p>Support, System Analyst and Developer. Technologies: Backbone Marionette 1.6.4 Grunt Promises. This is a Facebook Game for Trivia Crack.</p>"
    }, {
      "startDate":"2015,02,01",
      "endDate":"2015,03,01",
      "headline":"Etermax: Aworded",
      "text":"<p>Support, System Analyst and Developer. Technologies: Backbone Marionette 1.6.4 Grunt. This is a Facebook Game for Aworded.</p>"
    }, {
      "startDate":"2015,03,01",
      "endDate":"2015,04,01",
      "headline":"Etermax: Trends",
      "text":"<p>Developer. Technologies: Backbone Marionette 1.6.4 Grunt Less. This is a project to show trends of the questions to be translated by the Questions Factory project.</p>"
    }, {
      "startDate":"2015,04,01",
      "endDate":"2015,05,01",
      "headline":"Etermax: Support",
      "text":"<p>Developer. Technologies: Backbone Marionette 2.4.2 Grunt Less Nodejs AmazonSes Mocha Chai. Support and Help for all client games, client view with backend of nodejs for email support services.</p>"
    }],
    "era": [{
      "startDate":"2008,08,01",
      "endDate":"2011,06,01",
      "headline":"Cognizant",
      "tag":"Cognizant"
    }, {
      "startDate":"2011,06,01",
      "endDate":"2012,02,01",
      "headline":"Baufest",
      "tag":"Baufest"
    }, {
      "startDate":"2012,02,01",
      "endDate":"2014,02,01",
      "headline":"Inworx",
      "tag":"Inworx"
    }, {
      "startDate":"2014,02,01",
      "endDate":"2015,09,16",
      "headline":"Etermax",
      "tag":"Etermax"
    }]
  }
};

var timelineActor = new Actor();
_.extend(timelineActor, {
  setElements: function (els) {
    this.els = els;
  },
  getSizes: function () {
    return {
      width: this.els.timelineContent.width(),
      height: this.els.timelineContent.height()
    };
  },
  showTimelineContent: function () {
    var self = this;
    return this.runAnimation(function () {
      self.els.timelineContent.velocity({
        scaleX: 0.1,
        scaleY: 0.1,
        backgroundColor: '#ffffff'
      }, {
        duration: 0
      }).velocity({
        scaleX: 1,
        scaleY: 1,
        backgroundColor: '#ffffff'
      }, {
        duration : 500,
        easing: 'easeOutCubic'
      });
    }, 500);
  },
  createTimelineContent: function () {
    createStoryJS({
      type:       'timeline',
      width:      '100%',
      height:     '90%',
      source:     timeLine,
      embed_id:   'my-timeline'
    });
    this.timelineCreated = true;
  },
  getTimeline: function () {
    return this.els.timelineContent
  },
  endAnimation: function () {
    if (!this.timelineCreated) {
      this.els.timelineContent.show();
      this.createTimelineContent();
    }
  }
});
