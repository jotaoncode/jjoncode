---
layout: page
---
<article>
    <section class="content-container">
      <div class="row">
        <div class="col l12 m12 s12">
          <h2 class="primary-text-color" >Page Speed Insights</h2>
          <h3 class="primary-text-color title-content divider-color">
            Measure
          </h3>
          <p>
            We will look at how to measure with Page Speed Insights and this page, in a very simple example.
          </p>
          <p>
            In this case using Page Speed Insights will show us a report indicating on the performance of the site, and also the size of the website.
            After measuring with this tool you will have one more point of view in order to make a better approach for performance matters.
          </p>
          <h4 class="primary-text-color title-content divider-color">
            Pre Requisites
          </h4>
          <p>
            In this case I assume you already have npm and nodejs installed.
          </p>
          <p>
            In order to configure Page Speed Insights we will be using Grunt, may be there is another plugin to be used for other builders. I recommend installing to follow the steps.
          </p>
        </div>
        <div class="col l12 m12 s12">
          <h4 class="primary-text-color title-content divider-color">
            Steps
          </h4>
          <h5>1- Install Grunt</h5>
          <p>
            You can see how to install <a href="http://gruntjs.com/getting-started" target="_blank">here</a>
          </p>
          <h5>2- Install grunt-pagespeed</h5>
            In order to install this package go <a href="https://github.com/jrcryer/grunt-pagespeed">here</a>
          <p>
          </p>
          <p>
          Make sure your package.json file looks like this one
          </p>
{% highlight json %}
{
  "name"       : "testing-page-speed",
  "version"    : "0.0.1",
  "repository" : {
    "type" : "git",
    "url"  : "https : //github.com/"
  },
  "dependencies": {
    "grunt-pagespeed"  : "^1.0.0",
    "load-grunt-tasks" : "^0.5.0"
  }
}
{% endhighlight %}
          <h5>3- Configure your Gruntfile</h5>
          <p>
            This is a sample on how make a grunt file configuration for pagespeed.
          </p>
{% highlight javascript %}
//Grunt File configuration
module.exports = function(grunt) {
  //Initialize configuration with page speed
  grunt.initConfig({
    pagespeed: {
      options: {
        nokey : true,
        url   : "https://jotaoncode.com/pages/optimizations/examples/low-performance/"
      },
      prod: {
        options: {
          url       : "https://jotaoncode.com/pages/optimizations/examples/low-performance/",
          locale    : "en_GB",
          threshold : 80
        }
      },
      paths: {
        options: {
          paths     : ["/page-speed-test-before.html"],
          locale    : "en_GB",
          strategy  : "mobile",
          threshold : 80
        }
      }
    }
  });
  require('load-grunt-tasks')(grunt);
};
{% endhighlight %}
          <p>
            Complete the pagespeed configuration by setting up the page you need to test for performance, in this case I will use a sample page with low performance.
          </p>
          <p>
            You can choose.
          </p>
          <h5>4- Run Page Speed</h5>
          <p>
            Now is the moment to test our configuration is correct by running this command:
          </p>
          <code>$ grunt pagespeed</code>
          <p>
            You should see a report like this one:
          </p>
          <h5>5- Analize your report</h5>
          <p>
            So I can see that there are some problems with the size of Javascript, Images, CSS.
          </p>
          <p>
            After doing some reasearch on how to make a more performant solution for this problems I beleive I can solve this performance problems by doing the following:
          </p>
          <p>
            A- Minifying JS
          </p>
          <p>
            B- CSS
          </p>
          <p>
            C- Images.
          </p>
          <p>
            D- Decrement the quantity of calls to server for resources.
          </p>
          <p>
            Some sources you can see for web performance are:
          </p>
          <p>
            <a href="http://www.amazon.com/Steve-Souders/e/B001I9TVJS">Steve Souders High Performance Web Sites</a>
          </p>
          <p>
            <a href="https://www.udacity.com/">Front End Nanodegree: Course Website Performance Optimization</a>
          </p>
          <h5>6- Measure Again and Report</h5>
          <p>
            Now is the moment to compare those optimization results. I will run page speed again:
          </p>
          <code>$ grunt pagespeed</code>
          <p>
            The results on my report are:
          </p>
          <p>
            Again we can check how did we improved the performance on this site by comparing those results with the ones before our optimizations and report them like this:
          </p>
          <p>
            CSS improved %
          </p>
          <p>
            JS improved %
          </p>
          <p>
            Images improved %
          </p>
          <p>
            Calls improved %
          </p>
          <h3>
            Conclusion
          </h3>
          <p>
            Hope you enjoyed fixing performance issues. Many times performance of the system makes a sell or not. Also it is not only about customers and selling, many times it is about how solid is a peace of software as they have time to make it performant. I beleive it is the way they look to the company and people behind the software as a product or service.
            Solving performance issues will give a great smile to the client in the other side when using your system.
          </p>
          <p>
            You can find the way I solved this article <a href="https://github.com/jotaoncode">here</a>
          </p>
        </div>
      </div>
    </section>
    <section>
      <div id="disqus_thread"></div>
        <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        var disqus_config = function () {
        this.page.url = "http://jotaoncode.github.io/jotaoncode-website/optimizations/web/pagespeedinsights.html"; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = "jotaoncode"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//jotaoncode.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </section>
</article>

